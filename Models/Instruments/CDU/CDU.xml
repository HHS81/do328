<?xml version="1.0" encoding="ISO-8859-1"?>

<!--    FMZ 2000    -->
<!-- C. Le Moigne (clm76) -->

<PropertyList>

    <path>CDU.ac</path>

<!-- CDU Knob -->
    <animation>
        <type>rotate</type>
        <object-name>CDU-knob</object-name>
        <property>controls/lighting/cdu</property>
        <factor>-270</factor>
        <center>
            <x-m>0</x-m>
            <y-m>0.0632</y-m>
            <z-m>-0.005</z-m>
        </center>
        <axis>
            <x>1</x>
            <y>0</y>
            <z>0</z>
        </axis>
    </animation>

    <animation>
        <type>pick</type>
        <object-name>CDU-knob</object-name>
        <action>
          <button>0</button>
          <button>3</button>
          <repeatable>true</repeatable>
          <interval-sec>0.1</interval-sec>
          <binding>
              <command>property-adjust</command>
              <property>controls/lighting/cdu</property>
              <step>0.05</step>
              <min>0</min>
              <max>1.0</max>
              <wrap>false</wrap>
          </binding>
					<binding>
						<condition>
							<greater-than>
	              <property>controls/lighting/cdu</property>
								<value>0.05</value>
							</greater-than>
						</condition>
						<command>property-assign</command>
							<property>instrumentation/cdu/init</property>
							<value>0</value>
					</binding>				
        </action>
    </animation>

    <animation>
      <type>pick</type>
      <object-name>CDU-knob</object-name>
      <action>
          <button>4</button>
          <repeatable>true</repeatable>
          <interval-sec>0.1</interval-sec>
          <binding>
              <command>property-adjust</command>
              <property>controls/lighting/cdu</property>
              <step>-0.05</step>
              <min>0</min>
              <max>1.0</max>
              <wrap>false</wrap>
          </binding>
					<binding>
						<condition>
							<less-than>
	              <property>controls/lighting/cdu</property>
								<value>0.05</value>
							</less-than>
						</condition>
						<command>property-assign</command>
							<property>instrumentation/cdu/init</property>
							<value>1</value>
					</binding>				
        </action>
    </animation>

    <animation>
        <type>select</type>
        <object-name>CDU-screen</object-name>
        <object-name>CDU-lamp</object-name>
        <condition>
            <and>
                <property>systems/electrical/Consumers/CDU_Running</property>
                <greater-than>
                    <property>controls/lighting/cdu</property>
                    <value>0.02</value>
                </greater-than>
            </and>					
        </condition>
    </animation>

    <animation>
        <type>material</type>
        <object-name>btn.0</object-name>
        <object-name>btn.1</object-name>
        <object-name>btn.2</object-name>
        <object-name>btn.3</object-name>
        <object-name>btn.4</object-name>
        <object-name>btn.5</object-name>
        <object-name>btn.6</object-name>
        <object-name>btn.7</object-name>
        <object-name>btn.8</object-name>
        <object-name>btn.9</object-name>
        <object-name>btn.A</object-name>
        <object-name>btn.B</object-name>
        <object-name>btn.C</object-name>
        <object-name>btn.D</object-name>
        <object-name>btn.E</object-name>
        <object-name>btn.F</object-name>
        <object-name>btn.G</object-name>
        <object-name>btn.H</object-name>
        <object-name>btn.I</object-name>
        <object-name>btn.J</object-name>
        <object-name>btn.K</object-name>
        <object-name>btn.L</object-name>
        <object-name>btn.M</object-name>
        <object-name>btn.N</object-name>
        <object-name>btn.O</object-name>
        <object-name>btn.P</object-name>
        <object-name>btn.Q</object-name>
        <object-name>btn.R</object-name>
        <object-name>btn.S</object-name>
        <object-name>btn.T</object-name>
        <object-name>btn.U</object-name>
        <object-name>btn.V</object-name>
        <object-name>btn.W</object-name>
        <object-name>btn.X</object-name>
        <object-name>btn.Y</object-name>
        <object-name>btn.Z</object-name>
        <object-name>btn.clr</object-name>
        <object-name>btn.del</object-name>
        <object-name>btn.dir</object-name>
        <object-name>btn.fpl</object-name>
        <object-name>btn.l1</object-name>
        <object-name>btn.l2</object-name>
        <object-name>btn.l3</object-name>
        <object-name>btn.l4</object-name>
        <object-name>btn.minus</object-name>
        <object-name>btn.nav</object-name>
        <object-name>btn.next</object-name>
        <object-name>btn.perf</object-name>
        <object-name>btn.prev</object-name>
        <object-name>btn.prog</object-name>
        <object-name>btn.r1</object-name>
        <object-name>btn.r2</object-name>
        <object-name>btn.r3</object-name>
        <object-name>btn.r4</object-name>
        <object-name>btn.slash</object-name>
        <object-name>btn.sp</object-name>
        <condition>
						<or>
	           	<property>systems/electrical/left-emer-bus</property>
	           	<property>systems/electrical/left-bus-norm</property>
						</or>
        </condition>
        <emission>
            <red>1</red>
            <green>1</green>
            <blue>1</blue>
            <factor-prop>controls/lighting/instruments-norm</factor-prop>
        </emission>
    </animation>

<!-- Hotspots -->

<animation>
	<type>pick</type>
	<object-name>btn.next</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.next_key();</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.prev</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.previous();</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.fpl</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.key('FPL');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.nav</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.key('NAV');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.perf</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.key('PERF');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.prog</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.key('PROG');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.dir</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
      <condition>
        <equals>
          <property>autopilot/settings/nav-source</property>
          <value>FMS1</value>
        </equals>
      </condition>
	    <command>property-toggle</command>
	    <property>instrumentation/cdu/direct</property>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.l1</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.key('B1L');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.l2</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.key('B2L');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.l3</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.key('B3L');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.l4</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.key('B4L');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.r1</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.key('B1R');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.r2</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.key('B2R');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.r3</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.key('B3R');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.r4</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.key('B4R');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.0</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('0');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.1</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('1');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.2</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('2');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.3</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('3');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.4</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('4');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.5</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('5');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.6</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('6');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.7</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('7');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.8</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('8');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.9</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('9');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.A</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('A');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.B</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('B');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.C</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('C');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.D</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('D');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.E</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('E');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.F</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('F');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.G</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('G');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.H</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('H');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.I</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('I');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.J</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('J');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.K</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('K');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.L</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('L');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.M</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('M');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.N</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('N');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.O</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('O');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.P</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('P');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.Q</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('Q');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.R</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('R');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.S</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('S');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.T</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('T');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.U</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('U');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.V</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('V');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.W</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('W');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.X</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('X');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.Y</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('Y');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.Z</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('Z');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.minus</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('-');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.sp</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('.');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.slash</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.btn('/');</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.del</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>cdu.cduMain.delete();</script>
		</binding>
	</action>
</animation>

<animation>
	<type>pick</type>
	<object-name>btn.clr</object-name>
	<action>
		<button>0</button>
		<repeatable>false</repeatable>
		<binding>
			<command>nasal</command>
			<script>setprop("/instrumentation/cdu/input","");</script>
		</binding>
	</action>
</animation>

</PropertyList>
